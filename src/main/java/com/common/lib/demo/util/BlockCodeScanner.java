package com.common.lib.demo.util;

import com.alibaba.fastjson.JSONObject;
import com.google.gson.JsonObject;
import netscape.javascript.JSObject;
import org.bson.io.BsonOutput;

import java.util.Map;

/**
 * \* Created: liuhuichao
 * \* Date: 2021/2/4
 * \* Time: 11:21 上午
 * \* Description:
 * \
 */
public class BlockCodeScanner {

    public static final int CARD_COUNT = 312;//卡片个数
    private Map<String, Integer> cardIndexMap;
    private Map<String, Integer> cardDirectionMap;

    private int[][] growPos = {
            {2, 2}, {2, 3}, {1, 3}, {1, 2}, {1, 1},
            {2, 1}, {3, 1}, {3, 2}, {3, 3}, {3, 4},
            {2, 4}, {1, 4}, {0, 4}, {0, 3}, {0, 2},
            {0, 1}, {0, 0}, {1, 0}, {2, 0}, {3, 0},
            {4, 0}, {4, 1}, {4, 2}, {4, 3}, {4, 4},
    };

    public static String[] code = new String[CARD_COUNT];

    static {
        code[0] = "1000000001100000000000000";
        code[1] = "1000000001010000000000000";
        code[2] = "1000000001000010000000000";
        code[3] = "1000000001110010000000000";
        code[4] = "1000000001000001000000000";
        code[5] = "1000000001110001000000000";
        code[6] = "1000000001100011000000000";
        code[7] = "1000000001010011000000000";
        code[8] = "1000000001000000001000000";
        code[9] = "1000000001110000001000000";
        code[10] = "1000000001100010001000000";
        code[11] = "1000000001010010001000000";
        code[12] = "1000000001100001001000000";
        code[13] = "1000000001010001001000000";
        code[14] = "1000000001000011001000000";
        code[15] = "1000000001110011001000000";
        code[16] = "1000000001000000000100000";
        code[17] = "1000000001110000000100000";
        code[18] = "1000000001100010000100000";
        code[19] = "1000000001010010000100000";
        code[20] = "1000000001100001000100000";
        code[21] = "1000000001010001000100000";
        code[22] = "1000000001000011000100000";
        code[23] = "1000000001110011000100000";
        code[24] = "1000000001100000001100000";
        code[25] = "1000000001010000001100000";
        code[26] = "1000000001000010001100000";
        code[27] = "1000000001110010001100000";
        code[28] = "1000000001000001001100000";
        code[29] = "1000000001110001001100000";
        code[30] = "1000000001100011001100000";
        code[31] = "1000000001010011001100000";
        code[32] = "1000000001000000000000100";
        code[33] = "1000000001110000000000100";
        code[34] = "1000000001100010000000100";
        code[35] = "1000000001010010000000100";
        code[36] = "1000000001100001000000100";
        code[37] = "1000000001010001000000100";
        code[38] = "1000000001000011000000100";
        code[39] = "1000000001110011000000100";
        code[40] = "1000000001100000001000100";
        code[41] = "1000000001010000001000100";
        code[42] = "1000000001000010001000100";
        code[43] = "1000000001110010001000100";
        code[44] = "1000000001000001001000100";
        code[45] = "1000000001110001001000100";
        code[46] = "1000000001100011001000100";
        code[47] = "1000000001010011001000100";
        code[48] = "1000000001100000000100100";
        code[49] = "1000000001010000000100100";
        code[50] = "1000000001000010000100100";
        code[51] = "1000000001110010000100100";
        code[52] = "1000000001000001000100100";
        code[53] = "1000000001110001000100100";
        code[54] = "1000000001100011000100100";
        code[55] = "1000000001010011000100100";
        code[56] = "1000000001000000001100100";
        code[57] = "1000000001110000001100100";
        code[58] = "1000000001100010001100100";
        code[59] = "1000000001010010001100100";
        code[60] = "1000000001100001001100100";
        code[61] = "1000000001010001001100100";
        code[62] = "1000000001000011001100100";
        code[63] = "1000000001110011001100100";
        code[64] = "1000000000100000010001000";
        code[65] = "1000000000000011000100000";
        code[66] = "1000000000010011000100100";
        code[67] = "1000000000110000011000010";
        code[68] = "1000000000010000010000010";
        code[69] = "1000000000100011000100010";
        code[70] = "1000000000010011001100010";
        code[71] = "1000000000100011000000000";
        code[72] = "1000000000000000011000010";
        code[73] = "1000000000000000010001000";
        code[74] = "1000000000100001000000100";
        code[75] = "1000000001010000010001000";
        code[76] = "1000000000100011000100100";
        code[77] = "1000000000100000010000010";
        code[78] = "1000000000000011001000010";
        code[79] = "1000000000010011001100110";
        code[80] = "1000000000100000011100010";
        code[81] = "1000000001100000010100000";
        code[82] = "1000000001010000011100000";
        code[83] = "1000000000000011000000000";
        code[84] = "1000000000110000011000100";
        code[85] = "1000000001000000010100000";
        code[86] = "1000000000000000010001010";
        code[87] = "1000000001100000010001000";
        code[88] = "1000000000000011000100100";
        code[89] = "1000000000100011001000100";
        code[90] = "1000000000000000011000100";
        code[91] = "1000000000000011001000100";
        code[92] = "1000000000000001000100000";
        code[93] = "1000000000000011000000010";
        code[94] = "1000000000100001000100010";
        code[95] = "1000000001000000010001000";
        code[96] = "1000000000010000010100110";
        code[97] = "1000000000000011000100110";
        code[98] = "1000000000100000010100110";
        code[99] = "1000000000010000011000000";
        code[100] = "1000000000010000011100100";
        code[101] = "1000000001000000011000000";
        code[102] = "1000000000000011001100000";
        code[103] = "1000000000010011001000000";
        code[104] = "1000000000000001001000010";
        code[105] = "1000000000100011001100010";
        code[106] = "1000000000010000010100000";
        code[107] = "1000000000100000011000000";
        code[108] = "1000000000110000010100010";
        code[109] = "1000000000010011000000010";
        code[110] = "1000000000010011000100010";
        code[111] = "1000000000010000010000100";
        code[112] = "1000000001000110011001100";
        code[113] = "1000000001110010011001100";
        code[114] = "1000000001010010011001100";
        code[115] = "1000000001100010011001100";
        code[116] = "1000000001000010011001100";
        code[117] = "1000000000010011001000010";
        code[118] = "1000000001000110011001000";
        code[119] = "1000000001110010011001000";
        code[120] = "1000000001010010011001000";
        code[121] = "1000000001100010011001000";
        code[122] = "1000000001000010011001000";
        code[123] = "1000000000000110011001110";
        code[124] = "1000000000110010011001110";
        code[125] = "1000000000010010011001110";
        code[126] = "1000000000100010011001110";
        code[127] = "1000000000000010011001110";
        code[128] = "1000000000000110011001010";
        code[129] = "1000000000110010011001010";
        code[130] = "1000000000010010011001010";
        code[131] = "1000000000100010011001010";
        code[132] = "1000000000000010011001010";
        code[133] = "1000000000000110011001100";
        code[134] = "1000000000110010011001100";
        code[135] = "1000000000010010011001100";
        code[136] = "1000000000100010011001100";
        code[137] = "1000000000000010011001100";
        code[138] = "1000000000110000010100100";
        code[139] = "1000000000000110011001000";
        code[140] = "1000000000110010011001000";
        code[141] = "1000000000010010011001000";
        code[142] = "1000000000100010011001000";
        code[143] = "1000000000000010011001000";
        code[144] = "1000000000110000010000110";
        code[145] = "1000000000010000010001100";
        code[146] = "1000000000100011001100110";
        code[147] = "1000000000000000010100100";
        code[148] = "1000000000100011000100110";
        code[149] = "1000000000100011001000000";
        code[150] = "1000000000100001000000000";
        code[151] = "1000000000000000011100110";
        code[152] = "1000000000100001001000100";
        code[153] = "1000000001110010010001100";
        code[154] = "1000000001010010010001100";
        code[155] = "1000000001100010010001100";
        code[156] = "1000000001000010010001100";
        code[157] = "1000000000110000011100110";
        code[158] = "1000000001000110010001000";
        code[159] = "1000000001110010010001000";
        code[160] = "1000000001010010010001000";
        code[161] = "1000000001100010010001000";
        code[162] = "1000000001000010010001000";
        code[163] = "1000000000000011001100110";
        code[164] = "1000000000000010001000000";
        code[165] = "1000000000000110010001110";
        code[166] = "1000000000110010010001110";
        code[167] = "1000000000010010010001110";
        code[168] = "1000000000100010010001110";
        code[169] = "1000000000000010010001110";
        code[170] = "1000000000100000011000110";
        code[171] = "1000000000000110010001010";
        code[172] = "1000000000110010010001010";
        code[173] = "1000000000010010010001010";
        code[174] = "1000000000100010010001010";
        code[175] = "1000000000000010010001010";
        code[176] = "1000000000000001000100010";
        code[177] = "1000000000000110010001100";
        code[178] = "1000000000110010010001100";
        code[179] = "1000000000010010010001100";
        code[180] = "1000000000100010010001100";
        code[181] = "1000000000000010010001100";
        code[182] = "1000000000000110010001000";
        code[183] = "1000000000110010010001000";
        code[184] = "1000000000010010010001000";
        code[185] = "1000000000100010010001000";
        code[186] = "1000000000000010010001000";
        code[187] = "1000000000100000010100000";
        code[188] = "1000000000010011000000100";
        code[189] = "1000000000100001000100100";
        code[190] = "1000000000010000011100010";
        code[191] = "1000000000010011000100000";
        code[192] = "1000000000010000010001110";
        code[193] = "1000000001010010011100100";
        code[194] = "1000000001100010011100100";
        code[195] = "1000000001000010011100100";
        code[196] = "1000000000100000010000100";
        code[197] = "1000000001000110011100000";
        code[198] = "1000000001110010011100000";
        code[199] = "1000000001010010011100000";
        code[200] = "1000000001100010011100000";
        code[201] = "1000000001000010011100000";
        code[202] = "1000000000100011000000010";
        code[203] = "1000000000000011001000110";
        code[204] = "1000000000000110011100110";
        code[205] = "1000000000010010011100110";
        code[206] = "1000000000100010011100110";
        code[207] = "1000000001110000010001000";
        code[208] = "1000000000000110011100010";
        code[209] = "1000000000110010011100010";
        code[210] = "1000000000000010011100010";
        code[211] = "1000000000100000010001110";
        code[212] = "1000000000100011001100100";
        code[213] = "1000000000000110011100100";
        code[214] = "1000000000110010011100100";
        code[215] = "1000000000000010011100100";
        code[216] = "1000000000000110011100000";
        code[217] = "1000000000010010011100000";
        code[218] = "1000000000100010011100000";
        code[219] = "1000000000010011001100100";
        code[220] = "1000000000000000010100010";
        code[221] = "1000000000100000011100100";
        code[222] = "1000000000100001001000000";
        code[223] = "1000000000000011000000100";
        code[224] = "1000000000010011001100000";
        code[225] = "1000000000000001001000000";
        code[226] = "1000000000000000010001110";
        code[227] = "1000000000000001001000100";
        code[228] = "1000000000000011000100010";
        code[229] = "1000000001100010010100100";
        code[230] = "1000000001000010010100100";
        code[231] = "1000000000110000010001110";
        code[232] = "1000000001000110010100000";
        code[233] = "1000000001110010010100000";
        code[234] = "1000000001010010010100000";
        code[235] = "1000000001100010010100000";
        code[236] = "1000000001000010010100000";
        code[237] = "1000000000100001000100000";
        code[238] = "1000000000000110010100110";
        code[239] = "1000000000110010010100110";
        code[240] = "1000000000000010010100110";
        code[241] = "1000000000110000011100000";
        code[242] = "1000000000000110010100010";
        code[243] = "1000000000010010010100010";
        code[244] = "1000000000100010010100010";
        code[245] = "1000000000010000010001000";
        code[246] = "1000000000000010001000100";
        code[247] = "1000000000000110010100100";
        code[248] = "1000000000010010010100100";
        code[249] = "1000000000100010010100100";
        code[250] = "1000000000000110010100000";
        code[251] = "1000000000110010010100000";
        code[252] = "1000000000000010010100000";
        code[253] = "1000000000110000010001010";
        code[254] = "1000000000000000010000110";
        code[255] = "1000000000000011001000000";
        code[256] = "1000000000010000010001010";
        code[257] = "1000000000100011000100000";
        code[258] = "1000000000100011001100000";
        code[259] = "1000000000100000010001010";
        code[260] = "1000000000100011001000010";
        code[261] = "1000000001000010011000100";
        code[262] = "1000000000010000011000110";
        code[263] = "1000000001000110011000000";
        code[264] = "1000000001110010011000000";
        code[265] = "1000000001010010011000000";
        code[266] = "1000000001100010011000000";
        code[267] = "1000000001000010011000000";
        code[268] = "1000000000000000011100000";
        code[269] = "1000000000000001000100100";
        code[270] = "1000000000000110011000110";
        code[271] = "1000000000110010011000110";
        code[272] = "1000000000000010011000110";
        code[273] = "1000000000000110011000010";
        code[274] = "1000000000010010011000010";
        code[275] = "1000000000100010011000010";
        code[276] = "1000000000010011001000100";
        code[277] = "1000000000000110011000100";
        code[278] = "1000000000010010011000100";
        code[279] = "1000000000100010011000100";
        code[280] = "1000000000110000010001100";
        code[281] = "1000000000000110011000000";
        code[282] = "1000000000110010011000000";
        code[283] = "1000000000000010011000000";
        code[284] = "1000000001100000011100000";
        code[285] = "1000000000100000010001100";
        code[286] = "1000000000000011001100100";
        code[287] = "1000000000000000010001100";
        code[288] = "1000000000000001000000100";
        code[289] = "1000000000110000010000000";
        code[290] = "1000000000100011000000100";
        code[291] = "1000000000000011001100010";
        code[292] = "1000000001000110010000000";
        code[293] = "1000000001110010010000000";
        code[294] = "1000000001010010010000000";
        code[295] = "1000000001100010010000000";
        code[296] = "1000000001000010010000000";
        code[297] = "1000000001000000011100000";
        code[298] = "1000000000000110010000110";
        code[299] = "1000000000010010010000110";
        code[300] = "1000000000100010010000110";
        code[301] = "1000000000110000010001000";
        code[302] = "1000000000010011000000000";
        code[303] = "1000000000000110010000010";
        code[304] = "1000000000110010010000010";
        code[305] = "1000000000000010010000010";
        code[306] = "1000000000000110010000100";
        code[307] = "1000000000110010010000100";
        code[308] = "1000000000000010010000100";
        code[309] = "1000000000000110010000000";
        code[310] = "1000000000010010010000000";
        code[311] = "1000000000100010010000000";
    }

    /**
     * 根据位置和值生成结果矩阵
     *
     * @param index
     * @return
     */
    public int[][] getFinalResult(int index) {
        int[][] result = new int[5][5];
        String codeValue = code[index];
        int codeIndex = 0;
        for (int row = 0; row < growPos.length; row++) {
            int[] pos = this.growPos[row];
            result[pos[0]][pos[1]] = codeValue.charAt(codeIndex) - '0';
            codeIndex++;
        }
        System.out.println("原始点阵：" + JSONObject.toJSONString(result));
        //做一个矩阵对角线旋转
        result = rotateCardRight(result);
        return result;
    }

    /**
     * 做一个矩阵对角线旋转
     *
     * @param source
     * @return
     */
    public int[][] rotateCardRight(int[][] source) {
        for (int row = 1; row < source.length; row++) {
            for (int col = 0; col < row; col++) {
                int temp = source[col][row];
                source[col][row] = source[row][col];
                source[row][col] = temp;
            }
        }
        return source;
    }

    public static void main(String[] args) {
        BlockCodeScanner scanner = new BlockCodeScanner();
        int[][] result = scanner.getFinalResult(0);
        System.out.println(JSONObject.toJSONString(result));
    }

}
